<ion-header>
    <ion-row>
        <ion-col class="center grey-text">
            <ion-title>Conversation with {{r_name}}</ion-title>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <button (click)="back()" ion-button small color="secondary">Cancel</button>
        </ion-col>
        <ion-col class="right">
            <button (click)="block()" ion-button small color="danger">{{b_text}}</button>
        </ion-col>
    </ion-row>
</ion-header>
<ion-content padding>
    <ion-fab center middle *ngIf="errOc">
        <button (click)="refresh()" color="light" ion-fab mini>
            <ion-icon color="primary" name="refresh"></ion-icon>
        </button>
    </ion-fab>
    <div class="banner" *ngIf="isBlocked">You may no longer send messages to this User</div>
    <div class="container">
        <div class="messageArea" *ngFor="let dm of item?.dms">
            <page-dm [username]="sender" [dm]="dm"></page-dm>
        </div>
    </div>
</ion-content>
<ion-footer>
    <ion-toolbar>
        <ion-row>
            <ion-col col-10>
                <ion-textarea (keyup)="count()" [(ngModel)]="text" placeholder="Enter Message"></ion-textarea>
            </ion-col>
            <ion-col col-2>
                <button (click)="post()" ion-button color="{{btnColor}}">Send</button>
            </ion-col>
        </ion-row>
    </ion-toolbar>
</ion-footer>